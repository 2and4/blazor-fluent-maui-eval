(()=>{"use strict";var e=function(e,t,i,s){return new(i||(i=Promise))((function(n,o){function a(e){try{l(s.next(e))}catch(e){o(e)}}function r(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,r)}l((s=s.apply(e,t||[])).next())}))};window.shell=new class{constructor(e){this._document=e,this._body=this._document.body,this._window=this._document.defaultView,this._designThemeElement=this._body.querySelector("fluent-design-theme"),this._mediaQueryMaxWidth=this._window.matchMedia("(max-width: 680px)"),this._mediaQueryMaxWidth.addEventListener("change",(e=>this.OnScreenSizeChangedAsync(e.matches))),this._mediaQueryPreferedColor=this._window.matchMedia("(prefers-color-scheme: dark)"),this._mediaQueryPreferedColor.addEventListener("change",(e=>this.setTheme(e.matches?"dark":"light")))}setCallback(e){this._callback=e,this.OnScreenSizeChangedAsync(this._mediaQueryMaxWidth.matches)}getAccent(){var e;return null===(e=this._designThemeElement)||void 0===e?void 0:e.getAttribute("primary-color")}setAccent(e){var t;null===(t=this._designThemeElement)||void 0===t||t.setAttribute("primary-color",e)}getTheme(){var e;return null===(e=this._designThemeElement)||void 0===e?void 0:e.getAttribute("mode")}getIsThemeDark(){return window.matchMedia("(prefers-color-scheme: dark)").matches}setTheme(e){var t;null===(t=this._designThemeElement)||void 0===t||t.setAttribute("mode",e);Array.from(this._body.classList).filter((e=>e.startsWith("color-scheme"))).forEach((e=>this._body.classList.remove(e))),"system"===e&&(e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),this._body.classList.add(`color-scheme-${e}`)}changeBackgroundImage(t){return e(this,void 0,void 0,(function*(){const e=Array.from(this._document.getElementsByClassName("bfm-shell-background"));for(let i of e){const e=this._document.createElement("img");if(e.classList.add("opacity-0"),e.alt="background image",e.src=t,i.innerHTML="",i.appendChild(e),yield e.decode(),!e.offsetHeight)return;this._window.setTimeout((()=>e.classList.add("opacity-fade-in")),100)}}))}OnScreenSizeChangedAsync(t){return e(this,void 0,void 0,(function*(){var e,i;t?yield null===(i=this._callback)||void 0===i?void 0:i.invokeMethodAsync("OnScreenChanged",t):yield null===(e=this._callback)||void 0===e?void 0:e.invokeMethodAsync("OnScreenChanged",t)}))}}(document),window.globalization=new class{constructor(e){this._document=e,this._body=this._document.body;const t=e.defaultView;this._localStorage=t.localStorage,this._navigator=t.navigator}initialize(e){this._languages=e,this._language=this._languages[0];let t=this._navigator.language;const i=this._localStorage.getItem("lang");return i&&(t=i),this.setLanguage(t)}setLanguage(e){if(!this._languages)return;let t=new Intl.Locale(e).language;this._languages.includes(t)||(t=this._languages[0]),this._language=t;return this._document.documentElement.setAttribute("lang",this._language),this._localStorage.setItem("lang",this._language),this._language}getLanguage(){return this._language}setFlowDirection(e){this._body.setAttribute("dir",e)}}(document),window.animations=new class{constructor(e){this._document=e}scaleInDialog(e){var t;const i=this._document.getElementById(e),s=null==i?void 0:i.dialog;if(!s)return;this.insertAnimationsStyles(s);const n=null===(t=null==i?void 0:i.shadowRoot)||void 0===t?void 0:t.querySelector(".overlay");setTimeout((()=>this.showOverlay(n)),25),setTimeout((()=>s.classList.add("scale-in")),50)}scaleOutDialog(e){var t;const i=this._document.getElementById(e),s=null==i?void 0:i.dialog;if(!s)return;s.classList.add("invisible");const n=null===(t=null==i?void 0:i.shadowRoot)||void 0===t?void 0:t.querySelector(".overlay");return this.hideOverlay(n),new Promise((e=>setTimeout(e,200)))}slideInDialog(e){var t;const i=this._document.getElementById(e),s=null==i?void 0:i.dialog;if(!s)return;this.insertAnimationsStyles(s);const n=null===(t=null==i?void 0:i.shadowRoot)||void 0===t?void 0:t.querySelector(".overlay");setTimeout((()=>this.showOverlay(n)),25),setTimeout((()=>s.classList.add("slide-in-right")),50)}slideOutDialog(e){return this.scaleOutDialog(e)}insertAnimationsStyles(e){const t=document.createElement("style");t.textContent="@import '_content/Blazor.Shared.Views/css/bfm-animations.css';";const i=e.parentNode;null==i||i.insertBefore(t,i.firstChild)}showOverlay(e){e&&e.classList.add("visible")}hideOverlay(e){e&&e.classList.remove("visible")}}(document),window.elementsHelper=new class{constructor(e){this._document=e}removeClass(e,t){const i=this._document.getElementById(e);i&&i.classList.remove(t)}}(document),window.listViewHelper=new class{constructor(e){this._document=e,this._itemsTagName="fluent-option",this._selectedAttributeName="selected",this._ariaSelectedAttributeName="aria-selected",this._scrollbarsImport="@import '_content/Blazor.Shared.Views/css/bfm-scrollbars.css';",this._animationsImport="@import '_content/Blazor.Shared.Views/css/bfm-animations.css';"}insertAnimations(e){const t=this._document.getElementById(e),i=null==t?void 0:t.querySelectorAll("fluent-select");i&&i.forEach((e=>{const t=e.shadowRoot,i=null==t?void 0:t.querySelector(".listbox");i&&this.insertAnimationsStyles(i)}))}insertAnimationsStyles(e){const t=document.createElement("style");t.textContent=`${this._scrollbarsImport}${this._animationsImport}`;const i=e.parentNode;null==i||i.insertBefore(t,i.firstChild)}updateSelection(e,t){const i=this._document.getElementById(e),s=null==i?void 0:i.querySelectorAll(`${this._itemsTagName}`);if(!s)return;const n=s[t];let o=null==i?void 0:i.querySelectorAll(`[${this._selectedAttributeName}]`);null==o||o.forEach((e=>{n&&e===n||e.removeAttribute(this._selectedAttributeName)})),o=null==i?void 0:i.querySelectorAll(`[${this._ariaSelectedAttributeName}]`),null==o||o.forEach((e=>{n&&e===n||e.setAttribute(this._ariaSelectedAttributeName,"false")})),n&&(n.setAttribute(this._selectedAttributeName,""),n.setAttribute(this._ariaSelectedAttributeName,"true"))}}(document),window.storageHelper=new class{constructor(e){this._window=e.defaultView}load(e){return this._window.localStorage.getItem(e)}save(e,t){this._window.localStorage.setItem(e,t)}}(document),"serviceWorker"in navigator&&navigator.serviceWorker.register("js/service-worker.js").then((e=>{console.log("Service Worker registered with scope:",e.scope)})).catch((e=>{console.error("Service Worker registration failed:",e)}))})();